/*
  Warnings:

  - Added the required column `tenant_id` to the `certificate` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `checkin_code` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `checkin_transaction` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `event` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `event_setlist` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `pack` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `pack_price` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `pack_trading_card_relation` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `pairing` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `payment_method` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `payment_transaction` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `physical_pack` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `quiz_survey` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `trading_card` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `trading_card_benefit` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `trading_card_benefit_exchange_transaction` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `user` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `user_certificate` table without a default value. This is not possible if the table is not empty.
  - Added the required column `tenant_id` to the `user_trading_card` table without a default value. This is not possible if the table is not empty.

*/
-- AlterTable
ALTER TABLE "certificate" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "checkin_code" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "checkin_transaction" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "event" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "event_setlist" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "pack" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "pack_price" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "pack_trading_card_relation" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "pairing" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "payment_method" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "payment_transaction" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "physical_pack" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "quiz_survey" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "trading_card" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "trading_card_benefit" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "trading_card_benefit_exchange_transaction" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "user" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "user_certificate" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- AlterTable
ALTER TABLE "user_trading_card" ADD COLUMN     "tenant_id" TEXT NOT NULL;

-- CreateTable
CREATE TABLE "tenant" (
    "id" TEXT NOT NULL,
    "firebase_tenant_id" TEXT NOT NULL,
    "name" TEXT NOT NULL,
    "created_at" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updated_at" TIMESTAMP(3) NOT NULL,

    CONSTRAINT "tenant_pkey" PRIMARY KEY ("id")
);

-- CreateIndex
CREATE UNIQUE INDEX "tenant_firebase_tenant_id_key" ON "tenant"("firebase_tenant_id");

-- CreateIndex
CREATE INDEX "certificate_tenant_id_idx" ON "certificate"("tenant_id");

-- CreateIndex
CREATE INDEX "checkin_code_tenant_id_idx" ON "checkin_code"("tenant_id");

-- CreateIndex
CREATE INDEX "checkin_transaction_tenant_id_idx" ON "checkin_transaction"("tenant_id");

-- CreateIndex
CREATE INDEX "event_tenant_id_idx" ON "event"("tenant_id");

-- CreateIndex
CREATE INDEX "event_setlist_tenant_id_idx" ON "event_setlist"("tenant_id");

-- CreateIndex
CREATE INDEX "pack_tenant_id_idx" ON "pack"("tenant_id");

-- CreateIndex
CREATE INDEX "pack_price_tenant_id_idx" ON "pack_price"("tenant_id");

-- CreateIndex
CREATE INDEX "pack_trading_card_relation_tenant_id_idx" ON "pack_trading_card_relation"("tenant_id");

-- CreateIndex
CREATE INDEX "pairing_tenant_id_idx" ON "pairing"("tenant_id");

-- CreateIndex
CREATE INDEX "payment_method_tenant_id_idx" ON "payment_method"("tenant_id");

-- CreateIndex
CREATE INDEX "payment_transaction_tenant_id_idx" ON "payment_transaction"("tenant_id");

-- CreateIndex
CREATE INDEX "physical_pack_tenant_id_idx" ON "physical_pack"("tenant_id");

-- CreateIndex
CREATE INDEX "quiz_survey_tenant_id_idx" ON "quiz_survey"("tenant_id");

-- CreateIndex
CREATE INDEX "trading_card_tenant_id_idx" ON "trading_card"("tenant_id");

-- CreateIndex
CREATE INDEX "trading_card_benefit_tenant_id_idx" ON "trading_card_benefit"("tenant_id");

-- CreateIndex
CREATE INDEX "trading_card_benefit_exchange_transaction_tenant_id_idx" ON "trading_card_benefit_exchange_transaction"("tenant_id");

-- CreateIndex
CREATE INDEX "user_tenant_id_idx" ON "user"("tenant_id");

-- CreateIndex
CREATE INDEX "user_certificate_tenant_id_idx" ON "user_certificate"("tenant_id");

-- CreateIndex
CREATE INDEX "user_trading_card_tenant_id_idx" ON "user_trading_card"("tenant_id");

-- AddForeignKey
ALTER TABLE "event" ADD CONSTRAINT "event_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "event_setlist" ADD CONSTRAINT "event_setlist_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "pack" ADD CONSTRAINT "pack_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "physical_pack" ADD CONSTRAINT "physical_pack_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "trading_card" ADD CONSTRAINT "trading_card_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "trading_card_benefit" ADD CONSTRAINT "trading_card_benefit_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "trading_card_benefit_exchange_transaction" ADD CONSTRAINT "trading_card_benefit_exchange_transaction_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "pack_trading_card_relation" ADD CONSTRAINT "pack_trading_card_relation_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "certificate" ADD CONSTRAINT "certificate_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "user" ADD CONSTRAINT "user_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "checkin_code" ADD CONSTRAINT "checkin_code_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "checkin_transaction" ADD CONSTRAINT "checkin_transaction_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "user_certificate" ADD CONSTRAINT "user_certificate_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "user_trading_card" ADD CONSTRAINT "user_trading_card_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "pack_price" ADD CONSTRAINT "pack_price_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "payment_method" ADD CONSTRAINT "payment_method_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "payment_transaction" ADD CONSTRAINT "payment_transaction_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "quiz_survey" ADD CONSTRAINT "quiz_survey_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "pairing" ADD CONSTRAINT "pairing_tenant_id_fkey" FOREIGN KEY ("tenant_id") REFERENCES "tenant"("id") ON DELETE RESTRICT ON UPDATE CASCADE;
