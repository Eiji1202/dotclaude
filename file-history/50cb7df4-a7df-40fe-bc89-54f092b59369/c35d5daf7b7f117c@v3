import type { Prisma, PaymentTransaction } from "@/prisma/generated";
import { PaymentStatus } from "@/prisma/generated";

export const createPaymentTransactionMock = (
  userId: string = "test-user-id",
  paymentMethodId: number = 1,
  packId: string = "658dcfa6bc70422ea10cba530ddc71bc",
  overrides: Partial<Prisma.PaymentTransactionCreateInput> = {},
): Prisma.PaymentTransactionCreateInput => ({
  quantity: 1,
  totalPrice: 480,
  orderId: "test-order-id",
  accessId: "test-access-id",
  status: PaymentStatus.CAPTURED,
  capturedAt: new Date(),
  user: {
    connect: { id: userId },
  },
  paymentMethod: {
    connect: { id: paymentMethodId },
  },
  pack: {
    connect: { id: packId },
  },
  tenant: {
    connect: { id: 1 },
  },
  ...overrides,
});

export const createPaymentTransactionMockWithId = (
  overrides: Partial<PaymentTransaction> = {},
): PaymentTransaction => ({
  id: 1,
  userId: "test-user-id",
  quantity: 1,
  totalPrice: 480,
  orderId: "test-order-id",
  accessId: "test-access-id",
  status: PaymentStatus.CAPTURED,
  paymentMethodId: 1,
  packId: "658dcfa6bc70422ea10cba530ddc71bc",
  reconcilerNote: null,
  tenantId: 1,
  capturedAt: new Date(),
  createdAt: new Date(),
  updatedAt: new Date(),
  ...overrides,
});

export const createPendingPaymentTransactionMock = (
  userId: string = "test-user-id",
  paymentMethodId: number = 1,
  packId: string = "658dcfa6bc70422ea10cba530ddc71bc",
  overrides: Partial<Prisma.PaymentTransactionCreateInput> = {},
): Prisma.PaymentTransactionCreateInput => ({
  quantity: 1,
  totalPrice: 480,
  orderId: "test-pending-order-id",
  accessId: "test-pending-access-id",
  status: PaymentStatus.UNPROCESSED,
  capturedAt: null,
  user: {
    connect: { id: userId },
  },
  paymentMethod: {
    connect: { id: paymentMethodId },
  },
  pack: {
    connect: { id: packId },
  },
  tenant: {
    connect: { id: 1 },
  },
  ...overrides,
});
